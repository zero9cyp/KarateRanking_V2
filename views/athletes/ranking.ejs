>

<div class="container mt-5">
  <h1 class="mb-4">Athletes</h1>

  <form class="mb-3" method="GET" action="/athletes/search">
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Search athletes by name or surname" value="<%= typeof query !== 'undefined' ? query : '' %>">
      <button class="btn btn-outline-primary" type="submit">Search</button>
    </div>
  </form>

  <a href="/athletes/add" class="btn btn-primary mb-3"><i class="fas fa-plus"></i> Add Athlete</a>

  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Birth Date</th>
        <th>Gender</th>
        <th>Age Category</th>
        <th>Weight Category</th>
        <th>Club</th>
        <th>Total Points</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% athletes.forEach(a => { %>
      <tr>
        <td><%= a.id %></td>
        <td><%= a.first_name %></td>
        <td><%= a.last_name %></td>
        <td><%= a.birth_date %></td>
        <td><%= a.gender %></td>
        <td><%= a.age_category %></td>
        <td><%= a.weight_category %></td>
        <td><%= a.club_name %></td>
        <td><%= a.total_points %></td>
        <td>
          <a href="/athletes/edit/<%= a.id %>" class="btn btn-sm btn-warning">Edit</a>
          <form action="/athletes/delete/<%= a.id %>" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
</div>

<% include('../partials/footer') %>
